{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sohrab\\\\Desktop\\\\Evaly\\\\E-Frontend\\\\src\\\\components\\\\product\\\\ShowSingleProduct.js\";\nimport React, { Component } from 'react';\nimport './css/singleproduct.css';\nimport Axios from 'axios';\nimport SorterImage from './SorterImage';\nimport StarRatings from 'react-star-ratings';\n\nclass ShowSingleProduct extends Component {\n  constructor() {\n    super();\n\n    this.changeMainImage = image => {\n      this.setState({\n        mimg: image\n      });\n    };\n\n    this.ratingSubmit = () => {\n      Axios.put(`http://localhost:2001/evaly/api/product/rating/${this.state.products._id}`, {\n        rating: this.state\n      });\n    };\n\n    this.state = {\n      products: [],\n      img: [],\n      mimg: \"\",\n      count: 2,\n      userrating: 2\n    };\n  }\n\n  changeRating(newRating, name) {\n    console.log(typeof newRating);\n    this.setState({\n      count: newRating\n    });\n  }\n\n  changeuserRating(newRating, name) {\n    console.log(typeof newRating);\n    this.setState({\n      userrating: newRating\n    });\n  }\n\n  componentDidMount() {\n    let productid = this.props.match.params.productid;\n    console.log(productid);\n    Axios.get(`http://localhost:2001/evaly/api/product/${productid}`).then(res => {\n      this.setState({\n        products: res.data,\n        mimg: res.data.image[0],\n        count: res.data.mainrating\n      });\n\n      for (var i = 0; i < res.data.image.length; i++) {\n        this.setState({\n          img: this.state.img.concat(res.data.image[i])\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n      alert(error);\n    });\n  }\n\n  render() {\n    let {\n      products\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-left-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.changeMainImage.bind(this, 3),\n      src: this.state.mimg,\n      alt: \"asfd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-left-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, this.state.img.map(s => {\n      return /*#__PURE__*/React.createElement(SorterImage, {\n        changeMethod: this.changeMainImage.bind(this),\n        img: s,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 40\n        }\n      });\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rating-submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, \"Write Your Opinion: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 46\n      }\n    }), /*#__PURE__*/React.createElement(StarRatings, {\n      rating: this.state.userrating,\n      starRatedColor: \"blue\",\n      changeRating: this.changeuserRating.bind(this),\n      numberOfStars: 6,\n      name: \"rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, this.state.userrating), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.ratingSubmit,\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, \"Post\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, \"Product Name: \" + products.name), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, \"Price: \" + products.price + \" $\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, products.dis), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, \"Product Rating: \"), /*#__PURE__*/React.createElement(StarRatings, {\n      rating: this.state.count,\n      starRatedColor: \"blue\",\n      changeRating: this.changeRating.bind(this),\n      numberOfStars: 6,\n      name: \"rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, this.state.count)));\n  }\n\n}\n\nexport default ShowSingleProduct;","map":{"version":3,"sources":["C:/Users/Sohrab/Desktop/Evaly/E-Frontend/src/components/product/ShowSingleProduct.js"],"names":["React","Component","Axios","SorterImage","StarRatings","ShowSingleProduct","constructor","changeMainImage","image","setState","mimg","ratingSubmit","put","state","products","_id","rating","img","count","userrating","changeRating","newRating","name","console","log","changeuserRating","componentDidMount","productid","props","match","params","get","then","res","data","mainrating","i","length","concat","catch","error","alert","render","bind","map","s","price","dis"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport './css/singleproduct.css'\r\nimport Axios from 'axios'\r\nimport SorterImage from './SorterImage';\r\n\r\nimport StarRatings from 'react-star-ratings';\r\n\r\n\r\n\r\nclass ShowSingleProduct extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            products: [],\r\n            img:[],\r\n            mimg:\"\",\r\n            count:2,\r\n            userrating:2\r\n        }\r\n    }\r\n\r\n    changeRating(newRating, name) {\r\n        console.log(typeof(newRating))\r\n        this.setState({\r\n            count:newRating\r\n        })\r\n    }\r\n    changeuserRating(newRating, name) {\r\n        console.log(typeof(newRating))\r\n        this.setState({\r\n            userrating:newRating\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n    \r\n        let productid = this.props.match.params.productid\r\n        console.log(productid)\r\n        Axios.get(`http://localhost:2001/evaly/api/product/${productid}`)\r\n            .then(res=>{\r\n                this.setState({\r\n                    products:res.data,\r\n                    mimg:res.data.image[0],\r\n                    count:res.data.mainrating\r\n                })\r\n                for (var i=0; i<res.data.image.length; i++){\r\n                   this.setState({\r\n                        img: this.state.img.concat(res.data.image[i])\r\n                    })\r\n                }\r\n        \r\n                \r\n            })\r\n            .catch(error=>{\r\n                console.log(error)\r\n                alert(error)\r\n            })    \r\n    }\r\n\r\n\r\nchangeMainImage=(image)=>{\r\n\r\n   this.setState({\r\n       mimg:image\r\n   })\r\n}\r\n\r\nratingSubmit=()=>{\r\n    Axios.put(`http://localhost:2001/evaly/api/product/rating/${this.state.products._id}`,{rating:this.state})\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        let{products}=this.state\r\n        return (\r\n            <div className=\"single-product\">\r\n                <div className=\"single-product-left\">\r\n                    <div  className=\"single-product-left-top\">\r\n                          <img onClick={this.changeMainImage.bind(this,3)} src={this.state.mimg} alt=\"asfd\" />\r\n                    </div> \r\n                    \r\n                    <div className=\"single-product-left-bottom\">\r\n                        {\r\n                            this.state.img.map(s => {\r\n                                return <SorterImage changeMethod={this.changeMainImage.bind(this)}  img={s} />\r\n                            })\r\n                        }\r\n                     \r\n                    \r\n                     </div>\r\n\r\n                    <div className=\"rating-submit\">\r\n\r\n                        <h3>Write Your Opinion: </h3>\r\n\r\n                        <input type=\"text\" /><br/>\r\n\r\n                        <StarRatings\r\n                            rating={this.state.userrating}\r\n                            starRatedColor=\"blue\"\r\n                            changeRating={this.changeuserRating.bind(this)}\r\n                            numberOfStars={6}\r\n                            name='rating'\r\n                        />\r\n                        <h3>{this.state.userrating}</h3>\r\n\r\n                        <button onClick={this.ratingSubmit} className=\"btn btn-primary\">Post</button>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n                <div className=\"single-product-right\">\r\n                    <h2>{\"Product Name: \"+products.name}</h2>     \r\n                    <h2>{\"Price: \"+products.price+\" $\"}</h2>     \r\n                    <p>{products.dis}</p>  \r\n                    <h3>Product Rating: </h3>   \r\n                    <StarRatings\r\n                        rating={this.state.count}\r\n                        starRatedColor=\"blue\"\r\n                        changeRating={this.changeRating.bind(this)}\r\n                        numberOfStars={6}\r\n                        name='rating'\r\n                    />\r\n                    <h3>{this.state.count}</h3>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShowSingleProduct;"]},"metadata":{},"sourceType":"module"}