{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sohrab\\\\Desktop\\\\Evaly\\\\E-Frontend\\\\src\\\\components\\\\product\\\\ShowSingleProduct.js\";\nimport React, { Component } from 'react';\nimport './css/singleproduct.css';\nimport Axios from 'axios';\nimport SorterImage from './SorterImage';\nimport StarRatings from 'react-star-ratings';\n\nclass ShowSingleProduct extends Component {\n  constructor() {\n    super();\n\n    this.commentChangeHandeler = event => {\n      this.setState({\n        comment: event.target.value\n      });\n    };\n\n    this.changeMainImage = image => {\n      this.setState({\n        mimg: image\n      });\n    };\n\n    this.ratingSubmit = () => {\n      if (!this.state.comment) {\n        Axios.put(`http://localhost:2001/evaly/api/product/rating/${this.state.products._id}`, {\n          rating: this.state.userrating\n        }).then(result => {});\n      } else {}\n    };\n\n    this.state = {\n      products: [],\n      img: [],\n      mimg: \"\",\n      count: 2,\n      userrating: 2,\n      comment: \"\"\n    };\n  }\n\n  changeRating(newRating, name) {\n    console.log(typeof newRating);\n    this.setState({\n      count: newRating\n    });\n  }\n\n  changeuserRating(newRating, name) {\n    console.log(typeof newRating);\n    this.setState({\n      userrating: newRating\n    });\n  }\n\n  componentDidMount() {\n    let productid = this.props.match.params.productid;\n    console.log(productid);\n    Axios.get(`http://localhost:2001/evaly/api/product/${productid}`).then(res => {\n      this.setState({\n        products: res.data,\n        mimg: res.data.image[0],\n        count: res.data.mainrating\n      });\n\n      for (var i = 0; i < res.data.image.length; i++) {\n        this.setState({\n          img: this.state.img.concat(res.data.image[i])\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n      alert(error);\n    });\n  }\n\n  render() {\n    let {\n      products\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-left-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.changeMainImage.bind(this, 3),\n      src: this.state.mimg,\n      alt: \"asfd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-left-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, this.state.img.map(s => {\n      return /*#__PURE__*/React.createElement(SorterImage, {\n        changeMethod: this.changeMainImage.bind(this),\n        img: s,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 40\n        }\n      });\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rating-submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, \"Write Your Opinion: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.comment,\n      onChange: this.commentChangeHandeler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(StarRatings, {\n      rating: this.state.userrating,\n      starRatedColor: \"blue\",\n      changeRating: this.changeuserRating.bind(this),\n      numberOfStars: 6,\n      name: \"rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, this.state.userrating), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.ratingSubmit,\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }, \"Post\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-product-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, \"Product Name: \" + products.name), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, \"Price: \" + products.price + \" $\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, products.dis), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \"Total Rated Users: \", products.totalrating), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, \"Product Rating: \"), /*#__PURE__*/React.createElement(StarRatings, {\n      rating: this.state.count,\n      starRatedColor: \"blue\",\n      changeRating: this.changeRating.bind(this),\n      numberOfStars: 6,\n      name: \"rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, this.state.count)));\n  }\n\n}\n\nexport default ShowSingleProduct;","map":{"version":3,"sources":["C:/Users/Sohrab/Desktop/Evaly/E-Frontend/src/components/product/ShowSingleProduct.js"],"names":["React","Component","Axios","SorterImage","StarRatings","ShowSingleProduct","constructor","commentChangeHandeler","event","setState","comment","target","value","changeMainImage","image","mimg","ratingSubmit","state","put","products","_id","rating","userrating","then","result","img","count","changeRating","newRating","name","console","log","changeuserRating","componentDidMount","productid","props","match","params","get","res","data","mainrating","i","length","concat","catch","error","alert","render","bind","map","s","price","dis","totalrating"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport './css/singleproduct.css'\r\nimport Axios from 'axios'\r\nimport SorterImage from './SorterImage';\r\n\r\nimport StarRatings from 'react-star-ratings';\r\n\r\n\r\n\r\nclass ShowSingleProduct extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            products: [],\r\n            img:[],\r\n            mimg:\"\",\r\n            count:2,\r\n            userrating:2,\r\n            comment:\"\"\r\n        }\r\n    }\r\n\r\n    changeRating(newRating, name) {\r\n        console.log(typeof(newRating))\r\n        this.setState({\r\n            count:newRating\r\n        })\r\n    }\r\n    changeuserRating(newRating, name) {\r\n        console.log(typeof(newRating))\r\n        this.setState({\r\n            userrating:newRating\r\n        })\r\n    }\r\n\r\n\r\n    commentChangeHandeler=(event)=>{\r\n\r\n        this.setState({\r\n        comment:event.target.value\r\n        })\r\n    }\r\n    \r\n\r\n    componentDidMount(){\r\n\r\n    \r\n        let productid = this.props.match.params.productid\r\n        console.log(productid)\r\n        Axios.get(`http://localhost:2001/evaly/api/product/${productid}`)\r\n            .then(res=>{\r\n                this.setState({\r\n                    products:res.data,\r\n                    mimg:res.data.image[0],\r\n                    count:res.data.mainrating\r\n                })\r\n                for (var i=0; i<res.data.image.length; i++){\r\n                   this.setState({\r\n                        img: this.state.img.concat(res.data.image[i])\r\n                    })\r\n                }\r\n        \r\n                \r\n            })\r\n            .catch(error=>{\r\n                console.log(error)\r\n                alert(error)\r\n            })    \r\n    }\r\n\r\n\r\nchangeMainImage=(image)=>{\r\n\r\n   this.setState({\r\n       mimg:image\r\n   })\r\n}\r\n\r\nratingSubmit=()=>{\r\n\r\n    if(!this.state.comment){\r\n        Axios.put(`http://localhost:2001/evaly/api/product/rating/${this.state.products._id}`,{rating:this.state.userrating})\r\n                .then(result=>{\r\n            \r\n                })\r\n    }else{\r\n            \r\n    }\r\n\r\n\r\n   \r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        let{products}=this.state\r\n        return (\r\n            <div className=\"single-product\">\r\n                <div className=\"single-product-left\">\r\n                    <div  className=\"single-product-left-top\">\r\n                          <img onClick={this.changeMainImage.bind(this,3)} src={this.state.mimg} alt=\"asfd\" />\r\n                    </div> \r\n                    \r\n                    <div className=\"single-product-left-bottom\">\r\n                        {\r\n                            this.state.img.map(s => {\r\n                                return <SorterImage changeMethod={this.changeMainImage.bind(this)}  img={s} />\r\n                            })\r\n                        }\r\n                     \r\n                    \r\n                     </div>\r\n\r\n                    <div className=\"rating-submit\">\r\n\r\n                        <h3>Write Your Opinion: </h3>\r\n                           <input type=\"text\" \r\n                                value={this.state.comment}\r\n                                onChange={this.commentChangeHandeler}\r\n\r\n                           \r\n                           /><br/>\r\n\r\n                        <StarRatings\r\n                            rating={this.state.userrating}\r\n                            starRatedColor=\"blue\"\r\n                            changeRating={this.changeuserRating.bind(this)}\r\n                            numberOfStars={6}\r\n                            name='rating'\r\n                        />\r\n                        <h3>{this.state.userrating}</h3>\r\n\r\n                        <button onClick={this.ratingSubmit} className=\"btn btn-primary\">Post</button>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n                <div className=\"single-product-right\">\r\n                    <h2>{\"Product Name: \"+products.name}</h2>     \r\n                    <h2>{\"Price: \"+products.price+\" $\"}</h2>     \r\n                    <p>{products.dis}</p>  \r\n                    <h4>Total Rated Users: {products.totalrating}</h4>\r\n                    <h3>Product Rating: </h3>   \r\n                    <StarRatings\r\n                        rating={this.state.count}\r\n                        starRatedColor=\"blue\"\r\n                        changeRating={this.changeRating.bind(this)}\r\n                        numberOfStars={6}\r\n                        name='rating'\r\n                    />\r\n                    <h3>{this.state.count}</h3>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShowSingleProduct;"]},"metadata":{},"sourceType":"module"}